<script setup lang="ts">
import { sendMessage } from "webext-bridge";
import { openLinkInCurrentTab } from "~/logic";

const openLinkActionText = computed(() =>
  openLinkInCurrentTab.value
    ? "Open link in new tab"
    : "Open link in current tab"
);

const openNewTab = async (url: string) => {
  await sendMessage("open-new-tab-page", {
    url,
  });
};
</script>

<template>
  <div
    class="h-full w-full flex flex-col p-20px overflow-hidden dark:text-gray-200 grid grid-flow-col grid-cols-5 grid-rows-10 gap-4"
    data-cy="page-info"
  >
    <div
      class="border-gray-400 border-1px rounded-5px p-20px row-span-5 col-span-2 col-start-1"
    >
      <h1 class="text-lg">üîç Search commands</h1>
      <ul class="text-sm mt-10px text-xs">
        <li>
          „Éª<span class="info-key-text mr-5px">/ t</span> Search your tabs
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">/ b</span> Search your bookmarks
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">/ h</span> Search your histories
        </li>
      </ul>
    </div>
    <div
      class="border-gray-400 border-1px rounded-5px p-20px row-span-5 col-span-2 col-start-1"
    >
      <h1 class="text-lg">üìÆ Feedback & Support</h1>
      <p class="mt-10px text-xs">
        If you have any questions, feature requests, or bug reports, please let
        us know.
      </p>
      <button
        type="button"
        class="bg-blue-100 dark:bg-blue-800 dark:text-white font-bold py-2 px-4 rounded mt-15px"
        @click="
          openNewTab('https://github.com/kawamataryo/chikamichi/issues/new')
        "
      >
        Open GitHub issue
      </button>
    </div>
    <div
      class="border-gray-400 border-1px rounded-5px p-20px row-span-7 col-span-3 col-start-3"
    >
      <h1 class="text-lg">‚å® Shortcut</h1>
      <ul class="text-sm mt-10px text-xs">
        <li>
          „Éª<span class="info-key-text mr-5px">Alt(Option) + k</span>Open or
          Close Search form
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text">‚Üë</span>
          <span class="info-key-text">‚Üì</span>or<span class="info-key-text"
            >Ctrl + n</span
          >
          <span class="info-key-text">Ctrl + p</span> Select item
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">Enter</span>Open page
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">Ctrl + Enter</span
          >{{ openLinkActionText }}
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">Ctrl + f</span>Add to Favorites
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">Ctrl + c</span>Copy URL
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">Shift + Ctrl + n</span>Move
          selected favorite item down
        </li>
        <li class="mt-10px">
          „Éª<span class="info-key-text mr-5px">Shift + Ctrl + p</span>Move
          selected favorite item up
        </li>
      </ul>
    </div>
    <div
      class="flex items-center justify-center flex-col opacity-40 row-span-3 col-span-3 col-start-3"
    >
      <Logo width="70" height="70" class="dark:hidden" />
      <Logo width="70" height="70" class="hidden dark:block" dark />
      <p
        class="text-24px text-black font-bold leading-20px dark:text-gray-100 text-center mt-10px"
      >
        Chikamichi<br />
        <span class="text-12px">Fuzzy search for anything</span>
      </p>
    </div>
  </div>
</template>
